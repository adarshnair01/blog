<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Unveiling the Hidden Worlds: A Deep Dive into t-SNE for Visualizing High-Dimensional Data | Adarsh Nair </title> <meta name="author" content="Adarsh Nair"> <meta name="description" content="A deep dive into machine learning, AI, and data science. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; img-src 'self' data: https:; font-src 'self' data: https:; media-src 'self' https:; frame-src 'self' https:; connect-src 'self' https:;"> <link rel="stylesheet" href="/blog/assets/css/bootstrap.min.css?v=a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/blog/assets/css/academicons.min.css?v=f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/blog/assets/css/scholar-icons.css?v=62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/blog/assets/css/jekyll-pygments-themes-github.css?v=591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/blog/assets/css/main.css?v=d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://adarshnair.online/blog/blog/blog/2024/unveiling-the-hidden-worlds-a-deep-dive-into-t-sne/"> <script src="/blog/assets/js/theme.js?v=5fea5159b787642c1bbc1f334d60f883"></script> <link defer rel="stylesheet" href="/blog/assets/css/jekyll-pygments-themes-native.css?v=5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://adarshnair.online" rel="external nofollow noopener" target="_blank"> Adarsh Nair </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/blog/"> </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/index.html">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/cv/">CV </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/repositories/">repositories </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="fa-solid fa-magnifying-glass"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-half-sun-moon" id="light-toggle-system"></i> <i class="fa-solid fa-moon" id="light-toggle-dark"></i> <i class="fa-solid fa-sun" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Unveiling the Hidden Worlds: A Deep Dive into t-SNE for Visualizing High-Dimensional Data</h1> <p class="post-meta"> Created on February 28, 2024 by Adarsh Nair </p> <p class="post-tags"> <a href="/blog/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>As a budding (or seasoned!) data scientist, you’ve probably encountered datasets with more features than you can count on your fingers, toes, and maybe even a few extra appendages. Imagine trying to understand a dataset with 100, 500, or even 10,000 different characteristics for each entry. Our brains, wonderful as they are, are built for processing information in 2D or 3D. Beyond that, it’s just a blur. This is the notorious “curse of dimensionality” – the more dimensions you have, the harder it is to intuitively grasp the relationships and structures within your data.</p> <p>This is where <em>dimensionality reduction</em> techniques come to our rescue, acting like skilled cartographers for abstract, multi-dimensional landscapes. Their goal? To compress all that rich information into a lower-dimensional space (often just 2D or 3D), so we can finally <em>see</em> it.</p> <p>You might already be familiar with <strong>Principal Component Analysis (PCA)</strong>. PCA is fantastic for identifying the directions of greatest variance in your data and projecting it onto those principal components. It’s like finding the best possible angle to view your data, preserving as much global variance as possible. But PCA is fundamentally a <em>linear</em> technique. What if your data’s true structure is curvy, tangled, or non-linear? What if the most important relationships are not about overall spread, but about who’s friends with whom in specific neighborhoods?</p> <h3 id="enter-t-sne-your-map-to-local-neighborhoods">Enter t-SNE: Your Map to Local Neighborhoods</h3> <p>This is where <strong>t-Distributed Stochastic Neighbor Embedding (t-SNE)</strong> shines. Unlike PCA, t-SNE is a non-linear dimensionality reduction technique specifically designed to excel at visualizing <strong>local structures</strong>. Think of it this way: PCA gives you the broad strokes, the overall shape of the continent. t-SNE gives you the cities and towns, showing you which neighborhoods are clustered together.</p> <p>I often think of t-SNE as trying to draw a map of stars in the night sky. PCA would try to get the overall constellation shapes right. t-SNE, however, would prioritize making sure that stars that are close together in 3D space appear close together on your 2D map, even if it means distorting the overall shape of the galaxy a little. It’s all about preserving those <em>neighborhood relationships</em>.</p> <h3 id="the-core-idea-probabilities-and-proximity">The Core Idea: Probabilities and Proximity</h3> <p>At its heart, t-SNE tries to solve an optimization problem: <strong>how to map high-dimensional points into a low-dimensional space (e.g., 2D) such that points that were close in the high-dimensional space remain close in the low-dimensional space, and points that were far apart remain far apart.</strong></p> <p>Let’s break down the magic behind how t-SNE achieves this. It’s a two-step process:</p> <h4 id="step-1-measuring-neighborhoods-in-high-dimensions-the-p-matrix">Step 1: Measuring Neighborhoods in High Dimensions (The “P” Matrix)</h4> <p>For every data point $x_i$ in our original high-dimensional space, t-SNE calculates a probability distribution over all other data points $x_j$. This distribution tells us “how likely is it that $x_j$ is a neighbor of $x_i$?”</p> <table> <tbody> <tr> <td>It does this using a Gaussian (normal) distribution. Imagine putting a tiny fog machine at each point $x_i$. The denser the fog from $x_i$ reaches $x_j$, the higher the probability that $x_j$ is a neighbor of $x_i$. Mathematically, these conditional probabilities $p_{j</td> <td>i}$ are defined as:</td> </tr> </tbody> </table> <table> <tbody> <tr> <td>$p_{j</td> <td>i} = \frac{\exp(-|x_i - x_j|^2 / (2\sigma_i^2))}{\sum_{k \neq i} \exp(-|x_i - x_k|^2 / (2\sigma_i^2))}$</td> </tr> </tbody> </table> <p>Here’s what’s important:</p> <ul> <li>$|x_i - x_j|^2$: This is the squared Euclidean distance between points $x_i$ and $x_j$. Smaller distances mean higher probabilities.</li> <li>$\sigma_i^2$: This is the variance of the Gaussian centered at $x_i$. This $\sigma_i$ is crucial because it controls the “scope” of the neighborhood around $x_i$. A small $\sigma_i$ means only very close points are considered neighbors, while a large $\sigma_i$ means a broader neighborhood.</li> </ul> <p>Now, how does t-SNE decide $\sigma_i$? This is where the concept of <strong>perplexity</strong> comes in, which is arguably the most important hyperparameter for t-SNE. Perplexity can be thought of as a “knob” that you turn to tell t-SNE the effective number of neighbors each point should consider. It’s essentially a smoothed version of the number of nearest neighbors, and t-SNE iteratively searches for the $\sigma_i$ for each point that achieves this perplexity. A typical perplexity value ranges from 5 to 50.</p> <ul> <li> <strong>Small perplexity</strong> (e.g., 5-10) means t-SNE focuses on very local relationships, potentially missing broader structures and creating many small, fragmented clusters.</li> <li> <strong>Large perplexity</strong> (e.g., 50+) means it considers a wider neighborhood, which can help reveal larger structures but might merge distinct small clusters.</li> </ul> <table> <tbody> <tr> <td>Once we have these conditional probabilities $p_{j</td> <td>i}$, t-SNE converts them into joint probabilities $p_{ij}$ to make the similarity symmetric (i.e., the probability that $x_i$ and $x_j$ are neighbors should be the same as $x_j$ and $x_i$):</td> </tr> </tbody> </table> <table> <tbody> <tr> <td>$p_{ij} = \frac{p_{j</td> <td>i} + p_{i</td> <td>j}}{2N}$ (where N is the number of data points)</td> </tr> </tbody> </table> <p>This $P$ matrix (all the $p_{ij}$ values) now encapsulates the neighborhood structure of our high-dimensional data.</p> <h4 id="step-2-measuring-neighborhoods-in-low-dimensions-the-q-matrix">Step 2: Measuring Neighborhoods in Low Dimensions (The “Q” Matrix)</h4> <p>Now, we need to do something similar for our low-dimensional map. Let $y_i$ and $y_j$ be the corresponding points in our 2D (or 3D) output space. We want to calculate probabilities $q_{ij}$ that tell us “how likely is it that $y_j$ is a neighbor of $y_i$?”</p> <p>For this, t-SNE uses a <strong>Student’s t-distribution with one degree of freedom</strong> (also known as a Cauchy distribution), centered at $y_i$. Why a t-distribution and not another Gaussian? This is a clever trick to solve the “crowding problem.”</p> <p>The crowding problem: In high dimensions, it’s easy for a point to have many neighbors that are all roughly equidistant. But when you try to project these points into a lower dimension (like 2D), there simply isn’t enough space to accommodate all those neighbors without collapsing them onto each other. Imagine trying to squash a fluffy 3D ball onto a 2D plane – everything gets squashed in the middle.</p> <p>The t-distribution has “heavier tails” than a Gaussian. This means it allows for moderately distant points in the low-dimensional map to still contribute significantly to the cost function, effectively giving points more “room to breathe” and preventing them from collapsing into a single, dense blob. It helps to separate clusters that were distinct in high dimensions.</p> <p>The joint probabilities $q_{ij}$ in the low-dimensional space are defined as:</p> <p>$q_{ij} = \frac{(1 + |y_i - y_j|^2)^{-1}}{\sum_{k \neq l} (1 + |y_k - y_l|^2)^{-1}}$</p> <p>Notice there’s no $\sigma_i$ here; the t-distribution’s “spread” is fixed, allowing it to handle the crowding problem uniformly.</p> <h4 id="step-3-minimizing-the-difference-the-cost-function">Step 3: Minimizing the Difference (The Cost Function)</h4> <p>Our goal is to make the low-dimensional neighborhood probabilities ($q_{ij}$) as similar as possible to the high-dimensional probabilities ($p_{ij}$). To measure this similarity, t-SNE uses the <strong>Kullback-Leibler (KL) Divergence</strong>.</p> <p>The KL Divergence is a non-symmetric measure of how one probability distribution differs from a second, expected probability distribution. Our goal is to minimize the sum of KL divergences between $P$ and $Q$:</p> <p>$C = \sum_i \sum_j p_{ij} \log \frac{p_{ij}}{q_{ij}}$</p> <p>Minimizing this cost function means that if two points are close in high dimensions ($p_{ij}$ is high), t-SNE really tries to make them close in low dimensions ($q_{ij}$ also high). If they are far apart in high dimensions ($p_{ij}$ is low), t-SNE allows them to be further apart in low dimensions. The asymmetric nature of KL divergence is also important here: t-SNE penalizes <em>much more</em> for placing widely separated points close together in the low-dimensional map than for placing nearby points far apart. This reinforces the preservation of local structure.</p> <h4 id="step-4-the-dance-of-optimization-gradient-descent">Step 4: The Dance of Optimization (Gradient Descent)</h4> <p>Finally, to minimize this cost function $C$, t-SNE employs an optimization algorithm called <strong>gradient descent</strong>. Imagine each $y_i$ point in your 2D space as a tiny ball on a landscape defined by the cost function. Gradient descent iteratively moves each $y_i$ in the direction that most rapidly decreases the cost.</p> <p>This iterative process involves calculating the gradient of the cost function with respect to each $y_i$ and then updating the positions of the $y_i$ points based on a <strong>learning rate</strong>. The learning rate ($ \eta $) determines the size of the steps taken during each iteration. Too high, and you might overshoot the minimum; too low, and it might take forever to converge. t-SNE also often uses momentum to speed up convergence and avoid local minima.</p> <h3 id="the-magic-and-the-manual-key-parameters--considerations">The Magic and The Manual: Key Parameters &amp; Considerations</h3> <ul> <li> <strong><code class="language-plaintext highlighter-rouge">perplexity</code> (most crucial!):</strong> As discussed, this controls the balance between focusing on local and global aspects of your data. Experiment with values like 5, 20, 50. You’ll often see distinct changes in the resulting clusters.</li> <li> <strong><code class="language-plaintext highlighter-rouge">n_components</code>:</strong> Typically 2 or 3 for visualization.</li> <li> <strong><code class="language-plaintext highlighter-rouge">learning_rate</code>:</strong> How fast the optimization proceeds. Too small, it’s slow. Too large, it can jump around and never settle. Values between 10 and 1000 are common, but often the default (200 in scikit-learn) works well.</li> <li> <strong><code class="language-plaintext highlighter-rouge">n_iter</code>:</strong> Number of iterations for the optimization. A higher number generally leads to a more stable and refined embedding, but also takes longer. Default is usually 1000.</li> </ul> <h3 id="when-to-use-t-sne-strengths">When to Use t-SNE (Strengths)</h3> <ul> <li> <strong>Clustering Visualization:</strong> It’s phenomenal for revealing distinct clusters and substructures in complex, non-linear data. If you have different categories in your data and want to see if they naturally group together, t-SNE is your best friend.</li> <li> <strong>High-Dimensional Data:</strong> When your data has many features and traditional methods like PCA don’t quite show clear separation.</li> <li> <strong>Non-Linear Relationships:</strong> Its ability to capture non-linear relationships is a major advantage over linear methods.</li> </ul> <h3 id="when-to-be-careful-limitations">When to Be Careful (Limitations)</h3> <ul> <li> <strong>Computational Cost:</strong> For very large datasets (tens of thousands of points or more), t-SNE can be computationally expensive and slow. Variants like Barnes-Hut t-SNE (implemented in scikit-learn) or UMAP (Uniform Manifold Approximation and Projection) offer faster alternatives.</li> <li> <strong>Stochastic Nature:</strong> Because of the random initialization and the optimization process, different runs of t-SNE (with the same parameters) can produce slightly different results. It’s often good practice to run it a few times and observe consistency.</li> <li> <strong>Interpreting Distances:</strong> This is super important: <strong>the distances between clusters in a t-SNE plot are not directly interpretable.</strong> Only the relative proximity <em>within</em> a cluster and the distinct separation <em>between</em> clusters are meaningful. Don’t assume that if two clusters are far apart in the t-SNE plot, they are “twice as different” as two other clusters that are closer. The absolute spacing between clusters can be somewhat arbitrary; the primary goal is that <em>they are separated</em>.</li> <li> <strong>Parameter Sensitivity:</strong> The output is quite sensitive to <code class="language-plaintext highlighter-rouge">perplexity</code>. Always try a few values!</li> <li> <strong>Not for Transformation:</strong> t-SNE doesn’t give you a direct function to transform new data. It’s primarily a visualization tool for <em>existing</em> data, not for feature engineering or future predictions.</li> </ul> <h3 id="my-personal-takeaway">My Personal Takeaway</h3> <p>I remember the first time I applied t-SNE to a dataset of customer feedback, after struggling for hours with PCA that produced a messy, indecipherable blob. With t-SNE, distinct clusters of feedback categories suddenly emerged – “product bugs,” “feature requests,” “general praise,” etc. It was an “aha!” moment that truly cemented its value for me. It felt like I was finally seeing the data’s true story, not just a blurred outline.</p> <p>However, I’ve also learned the hard way not to over-interpret the beautiful “swirls” and “rivers” that t-SNE sometimes creates. Just because points form a neat line or arc doesn’t necessarily mean there’s a linear relationship in the original data. It’s often an artifact of how t-SNE pushes and pulls points to achieve optimal local neighborhood preservation. Always remember: the map is not the territory!</p> <h3 id="conclusion">Conclusion</h3> <p>t-SNE is a magnificent tool in the data scientist’s arsenal, especially when you need to bring high-dimensional data down to Earth for human understanding. It’s a non-linear wizard that prioritizes local structure, allowing us to identify intricate patterns and clusters that would otherwise remain hidden. While it demands careful attention to its parameters and an understanding of its limitations, mastering t-SNE will undoubtedly unlock new insights and visualizations in your data science journey. So go forth, experiment, and unveil the hidden worlds within your datasets!</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/blog/2026/cracking-the-ai-black-box-why-explainable-ai-xai-i/">Cracking the AI Black Box: Why Explainable AI (XAI) is Our Superpower</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/blog/2026/the-secret-life-of-states-how-markov-chains-predic/">The Secret Life of States: How Markov Chains Predict Our Next Move (Without Remembering the Past!)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/blog/2026/gradient-descent-unpacking-the-engine-of-machine-l/">Gradient Descent: Unpacking the Engine of Machine Learning</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Adarsh Nair. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/blog/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/blog/assets/js/masonry.js?v=a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/blog/assets/js/zoom.js?v=85ddb88934d28b74e78031fd54cf8308"></script> <script src="/blog/assets/js/no_defer.js?v=2781658a0a2b13ed609542042a859126"></script> <script defer src="/blog/assets/js/common.js?v=c15de51d4bb57887caa2c21988d97279"></script> <script defer src="/blog/assets/js/copy_code.js?v=c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/blog/assets/js/jupyter_new_tab.js?v=d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/blog/assets/js/mathjax-setup.js?v=a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/blog/assets/js/progress-bar.js?v=2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/blog/assets/js/vanilla-back-to-top.min.js?v=f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/blog/assets/js/search/ninja-keys.min.js?v=a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/blog/assets/js/search-setup.js?v=6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/blog/assets/js/search-data.js"></script> <script src="/blog/assets/js/shortcut-key.js?v=ccc841c459bfc0e64c1c2b5acd10df02"></script> </body> </html>